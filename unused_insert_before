procedure insert_before(elem : IN T_Value; delimiter : IN T_Value; list : IN OUT DoubleLinkedList_Pointer);

procedure insert_before(elem : IN T_Value; delimiter : IN T_Value; list : IN OUT DoubleLinkedList_Pointer) is
      tmp : DoubleLinkedList_Pointer;
   begin
      if is_empty(list) then
         list := new DoubleLinkedList_Cell'(elem, null, null);
      else
         tmp := find(delimiter,list);
         if tmp.previous = null then
            tmp.previous := new DoubleLinkedList_Cell'(elem, null, tmp);
         else
            tmp.previous := new DoubleLinkedList_Cell'(elem, tmp.previous, tmp);
            tmp.previous.previous.next := tmp.previous;
         end if;
      end if;
   end insert_before;
